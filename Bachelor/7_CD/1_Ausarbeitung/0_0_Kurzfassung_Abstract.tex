%%
%%
%%
%\thispagestyle{empty}
%\clearscrheadfoot                  % Alles auf "" setzen
%------------------------------------------------------------------------------

\section*{Kurzfassung\\ \begin{center}
Modellbasierter Entwurf und Embedded Implementierung eines Mehrgrößenreglers für einen balancierenden Würfel
\end{center} } \label{Kurzfassung}
Das Ziel der vorliegenden Arbeit besteht darin, ein Regelungskonzept zu entwickeln, um einen Würfel auf einer seiner Ecken zu balancieren. In dem Würfel sind drei Motoren mit jeweils einer Schwungmasse montiert, welche als Stellglieder des Regelkreises dienen. Zunächst wird der Fall des auf einer Kante balancierenden Würfels betrachtet, wofür mittels Kanes Methodik die Bewegungsgleichungen hergeleitet werden. Im Anschluss werden diese in eine Zustandsraumdarstellung überführt, welche für den Entwurf des Zustandreglers verwendet wird. Daraufhin wird der Regler an der Strecke validiert.

Im nächsten Schritt werden die Bewegungsgleichungen des auf einer Ecke stehenden Würfels ermittelt, wofür ebenfalls Kanes Methodik verwendet wird. Anschließend wird die Steuer- und Beobachtbarkeit des im Arbeitspunkt linearisierten System untersucht. Unter Beachtung der Direktionalitätsproblematik wird ein LQ-Regler entworfen und an der Regelstrecke erprobt.  Anhand der experimentell gewonnen Ergebnisse werden Verbesserung durchgeführt, um die Güte des geschlossenen Regelkreises zu optimieren.

Des Weiteren wird ein Konzept entwickelt, um die Zustandsgrößen zu messen, wofür ein Verfahren vorgestellt wird, um die Ausrichtung des Würfels anhand der Beschleunigungssensoren zu schätzen. Zusätzlich wird ein Komplementärfilter eingesetzt, um die Signalgüte zu erhöhen.

Der letzte Teil der Arbeit beschäftigt sich mit der Implementierung des Regelungskonzeptes auf einer Embedded Zielplattform. Hierbei wird ein Ansatz der Template-Metaprogram-mierung vorgestellt, um den Aufwand für die Implementierung des Kontroll- und Signalflusses zu minimieren. Außerdem wird eine Komponentenarchitektur entworfen, welche als Grundlage für mechatronische Anwendung wiederverwendet werden kann. Zuletzt wird eine TCP/IP-Verbindung implementiert, um Daten zwischen der Ziel- und Entwicklungsplattform auszutauschen. Für letztere wird eine, auf Qt basierende, Anwendung entwickelt, welche relevante Versuchsdaten visualisiert und die Steuerung des Versuchsablaufes ermöglicht.
\newpage

\section*{Abstract\\
\begin{center}Model-Based Design and Embedded Implementation of a Multivariable Controller for a Balancing Cube\end{center}} \label{Abstract}
The presented work focuses on the devlopment of a multivariable controller to make a cube balance on one of its corners. Inside the cube there are three motors mounted, which serve as controlling elements in the closed loop system. In the first part of this work a controller is developed to make the cube balance on one of its edges. First Kane's Method is used in order to obtain the equations of motion. These are transformed into a linear statespace presentation, which is used to design an LQ-based controller. Lastly the stability of the closed loop system is empirically proven.

Afterwards the equations of motion for the cube standing on one of its corners are derived using Kane's method. Linearization in the operating point leads to a statespace presentation, which is used to analyse the non control- and observable subspaces of the system. Eliminiation of the corresponding states yields a minimal realisiation of the system, which is used to design an LQ-based controller. While doing so, the limitations of the motor torques have to be considered to avoid issues of directional change. The resulting controller is test on the plant and based on the empirical results the controller is further improved.

The next part of this work presents a method for measuring the satevector. Obtaining the orientation of the cube states a difficult problem, as the corresponding angles can not be measured. Therefore an algorithm is presented in order to estimate the angles based on the accelerationsignals. Additionally a complementary filter is implemented to reduce measurement noise.

In the last part the implementation of the controller is examined. In this regard the goal is to develop a framework ,which may be reused for a variety of applications in mechatronics. This is achieved by introducing a component architecture, which separates the major tasks of the application. One of these tasks handles both the control logic and algorithms of the different experiments. An approach, which is based on template-metaprogramming, is presented in order to minimize the effort implementing these experiments. The second task consists of communicating with an application, which is executed on a development plattform. This application holds a graphical user interface visualizing data from the experiments and allowing the user to configure the experiment during runtime.


\cleardoublepage