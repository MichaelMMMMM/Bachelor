\section{Regelungstechnik}
Der Aufbau der Würfelseite stellt ein inverses Pendel dar, folglich handelt es sich um ein instabiles System. Diese Aussage lässt sich leicht an Hand der Pole des Systems überprüfen. Da die Systemmatrix $\bs{A}$ die vollständige Information über das Eigenverhalten enthält, muss diese auch die Pole des Systems beinhalten, welche über die charakteristische Gleichung
\begin{equation}
P^*(s) = |s\cdot \bs{I} -  \bs{A}| = 0
\end{equation}
berechnet werden können. Für das Modell der Würfelseite ergibt sich die folgende charakteristische Gleichung. Die Lösung dieser Gleichung führt wiederum auf die Pole des Systems.
\begin{equation}
P^*(s) = s^3+2,08s^2-76s-20,4=0
\end{equation}
\begin{equation}
p_1=7,89 \hspace{35pt} p_2=-0,27 \hspace{35pt} p_3 = -9,7
\end{equation}
Da der erste Pole einen positiven Realteil besitzt ist das System instabil. Folglich muss ein Regelungskonzept entworfen werden um das System zu stabilisieren. Die primäre Aufgabe des Reglers besteht darin, den Winkel $\varphi$ möglichst rasch in den Sollwert zu überführen. Hierfür wird der Ansatz der Zustandsrückführung gewählt, welcher im folgenden Blockschaltbild dargestellt ist.
\begin{figure}[!h]
\centering
\includegraphics[width=\linewidth,trim={0cm 0cm 2cm 9cm}, clip]{4_Regelungstechnik/img/GRK_1}
\caption{Geschlossener Regelkreis, Quelle: eigene Darstellung, Inhalt aus RT2}
\end{figure}
In dem geschlossenen Regelkreis wurde einerseits der Führungsvektor $\bs{w}$ eingeführt, der mit dem Vorfilter $\bs{V}$ gewichtet wird. Die Funktion des Vorfilters wird später genauer betrachtet. Zusätzlich wird der Zustandsvektor über die Reglermatrix $\bs{F}$ zurückgeführt. Dadurch ergibt sich eine neue Zustandsraumdarstellung.
Die ursprüngliche Eingangsgröße $u$ setzt sich nun aus dem gewichteten Führungsvektor $\bs{V}\bs{w}$ und dem zurückgeführten Zustandsvektor $\bs{F}\bs{x}$ zusammen.
\begin{equation}
u = \bs{V}\bs{w}-\bs{F}\bs{x}
\end{equation}
Einsetzen in die erste Gleichung der Zustandsraumdarstellung führt auf das folgende Ergebnis.
\begin{equation}
\dot{\bs{x}} = \bs{A}\bs{x}+\bs{B}\otimes\bs{V}\bs{w} - \bs{B}\otimes\bs{F}\bs{x} = (\bs{A}-\bs{B}\otimes\bs{F})\bs{x}+\bs{B}\otimes\bs{V}\bs{w}
\end{equation}
Somit ergeben sich für den geschlossenen Regelkreis die neue Systemmatrix $\bs{A}_g=\bs{A}-\bs{B}\otimes\bs{F}$ und Eingangsmatrix $\bs{B}_g=\bs{B}\otimes\bs{V}$. Die zweite Gleichung der Zustandsraumdarstellung bleibt unverändert.
\begin{equation}
\bs{C}_g = \bs{C} \hspace{35pt} \bs{D}_g=\bs{D}
\end{equation}

\subsection{Entwurf der Reglermatrix $\bs{F}$}
Das Eigenverhalten des neuen Systems wird nun von der Systemmatrix $\bs{A}_g$ bestimmt. Deren Pole können ebenfalls über die charakteristische Gleichung
\begin{equation}
P^*(s) = |s\cdot\bs{I}-\bs{A}_g| = 0
\end{equation}
berechnet werden. Somit besteht die erste Aufgabe des Reglerentwurfes darin die Filtermatrix $\bs{F}$ so zu entwerfen, dass alle Pole des geschlossenen Reglekreises in der linken Halbebene liegen, wodurch die Stabilität des Systems gegeben ist. Hierfür wird der Ansatz des optimalen Zustandreglers nach dem quadratischen Gütekriterium gewählt. Das heißt, dass ein Gütekriterium $I$ gewählt wird, welches durch die Wahl von $\bs{F}$ minimiert werden muss.
\begin{equation}
I = \int^{\infty}_0 (\bs{x}^T\bs{Q}\bs{x}+\bs{u}^T\bs{R}\bs{u})dt \overset{!}{=}min
\end{equation}

\textcolor{red}{Einschub wie dieses Optimierungsproblem gelöst werden kann}

Die positiven Matrizen $\bs{Q}$ und $\bs{R}$ dienen zur Gewichtung des Zustand- und Eingangsvektors. Die Wahl der Gewichtungsmatrizen liegt bei dem Entwickler und bietet die Beeinflussung des dynamischen Verhaltens des Regelkreises. In diesem Anwendungsfall werden Diagonalmatrizen verwendet, deren Diagonalelemente über die maximal zulässigen Werte der Zustands- und Eingangsgrößen festgelegt werden.
\begin{equation}
\bs{Q} = \begin{pmatrix}
(\varphi_{max})^{-2} & 0 & 0 \\
0 & (\dot{\varphi}_{max})^{-2} & 0 \\
0 & 0 & (\dot{\psi}_{max})^{-2}
\end{pmatrix}
\hspace{35pt}
\bs{R} = \begin{pmatrix}
({T_M}_{max})^{-2}
\end{pmatrix}
\end{equation}
Dadurch ergeben sich die folgenden Werte für die Reglermatrix $\bs{F}$.
\begin{equation}
\bs{F}=\begin{pmatrix}
-0,9120 & -0,0773 & -0,0001
\end{pmatrix}
\end{equation}
Mit Hilfe der Filtermatrix kann nun die charakteristische Gleichung des geschlossenen Regelkreises gelöst werden, wodurch man die Pole des Systems erhält.
\begin{equation}
|s\cdot \bs{I}-\bs{A}_g| = 0 \hspace{15pt}\rightarrow\hspace{35pt} p_1 = -0.117 \hspace{35pt} p_{2,3} = -11.9 \pm6.55j
\end{equation}
Da alle Pole einen negativen Realteil besitzen ist die Stabilität des Systems nachgewiesen.

\subsection{Entwurf des Vorfilters $\bs{V}$}
Die zweite Aufgabe des Reglerentwurfs besteht darin das Vorfilter $\bs{V}$ so zu entwerfen, dass im stationären Zustand $\dot{\bs{x}}=0$ der Führungs- und Ausgangsvektor übereinstimmen.
\begin{equation}
\label{VEntwurf_eq1}
\bs{w}=\bs{y}=\bs{C}\cdot\bs{x}
\end{equation}
Im stationären Zustand gilt für die erste Gleichung der Zustandsraumdarstellung:
\begin{equation}
\dot{\bs{x}}= (\bs{A}-\bs{B}\otimes\bs{F})\bs{x}+\bs{B}\otimes\bs{V}\bs{w}=0 \hspace{15pt}\rightarrow\hspace{15pt} \bs{x} = (\bs{A}-\bs{B}\otimes\bs{F})^{-1} (\bs{B}\otimes\bs{V})\bs{w}
\end{equation}
Durch Einsetzen der Lösung in (\ref{VEntwurf_eq1}) erhält man das folgende Ergebnisse.
\begin{equation}
\bs{w}=\bs{C}(\bs{A}-\bs{B}\otimes\bs{F})^{-1} (\bs{B}\otimes\bs{V})\bs{w}
\end{equation}
Aus diesem Ausdruck ist leicht zu erkennen, dass die folgende Gleichung gelten muss.
\begin{equation}
\bs{C}(\bs{A}-\bs{B}\otimes\bs{F})^{-1} (\bs{B}\otimes\bs{V}=\bs{I} \hspace{15pt}\rightarrow\hspace{15pt} \bs{V} = [\bs{C}(\bs{B}\otimes\bs{F}-\bs{A})^{-1}\bs{B}]^{-1}
\end{equation}
Berechnet man $\bs{V}$ nach der obigen Formel erhält man für das Vorfilter die folgenden Werte.
\begin{equation}
\bs{V} = \begin{pmatrix}
0 & 3,316\cdot 10^{-5}
\end{pmatrix}
\end{equation}
Das Verschwinden des ersten Elements des Vorfilters lässt sich damit begründen, dass das System nur bei dem Führungswert $\varphi=0$ stabilisiert werden kann. Die erste Bewegungsgleichung
\begin{equation}
(I^{K/O}+I^{R/M}+m_R\cdot l_{AB}^2)\cdot \ddot{\varphi} = m_G \cdot g \cdot l_{AC} \cdot s_{\varphi} - C_{\varphi} \cdot \dot{\varphi} - I^{R/M} \cdot \ddot{\psi}
\end{equation}
zeigt, dass durch die Gravitation ein konstantes Moment ensteht falls $\varphi\neq 0$ gilt. Somit muss der Motor eine konstante Beschleunigung der Schwungmasse erzeugen um $\varphi$ auf dem Führungswert zu halten. Diese Beschleunigung bedeutet allerdings, dass der Zustand $\dot{\psi}$ divergiert und das System somit nicht stabil sein kann.

\subsection{Entwurf eines kaskadierten Regelkreises}
Nach dem Entwurf des stabilen Systems, ist dessen Verhalten in Abhängigkeit von dem Anfangszustand $\bs{x}_0$ von Interesse. Der Führungsvektor ist dabei konstant $\bs{w}=\begin{pmatrix}
0 & 0 
\end{pmatrix}^T$. Das bedeutet, dass die Würfelseite in der aufrechten Position stehen soll und die Schwungmasse dabei zum Stillstand kommt. Um die Endwerte für diesen Führungsvektor zu bestimmen wird die Zustandsraumdarstellung des geschlossenen Regelkreises in den Bildbereich transformiert.
\begin{equation}
s\cdot\bs{X}(s) - \bs{x}_0 = (s\cdot\bs{I}-\bs{A}_g)\bs{X}(s) \hspace{15pt}\rightarrow\hspace{15pt} \bs{X}(s) = (s\cdot\bs{I}-\bs{A}_g)^{-1}\bs{x}_0
\end{equation}
Mit Hilfe des Endwertsatzes
\begin{equation}
x(\infty)=\lim_{s\rightarrow 0} s\cdot \bs{X}(s)
\end{equation}
können die Endwerte des Zustandvektors berechnet werden. Voraussetzung hierfür ist, dass die Endwerte existieren. Dies ist allerdings durch die Stabilität des Systems gegeben. Für den Fall, dass der Führungsvektor $\bs{w}$ verschwindet, konvergieren die Zustandsgrößen gegen null.
\begin{equation}
x(\infty)=\lim_{s\rightarrow 0} s\cdot \bs{X}(s) = \begin{pmatrix}
0 \\ 0 \\ 0
\end{pmatrix}
\end{equation}
Allerdings zeigt eine Simulation bei $\bs{x}_0=\begin{pmatrix}
5^\circ & 0 & 0
\end{pmatrix}^T$, dass lediglich der Winkel $\varphi$ in kurzer Zeit gegen Null konvergiert. Die Geschwindigkeit $\dot{\psi}$ benötigt einen verhältnismäßig großen Zeitraum um abzuklingen.
\begin{figure}[!h]
\centering
\includegraphics[width=0.45\linewidth]{4_Regelungstechnik/img/x0_phi}
\includegraphics[width=0.45\linewidth]{4_Regelungstechnik/img/x0_psi__d}
\caption{Verlauf von $\varphi$ und $\dot{\psi}$, Quelle: eigene Darstellung}
\end{figure}
Das sekundäre Regelungsziel besteht darin, die nötige Zeit für die Konvergenz von $\dot{\psi}$ zu reduzieren. Da der Führungsvektor entfällt ist für das Verhalten des geschlossenen Regelkreises nur die Fundamentalmatrix von Bedeutung. Die Übertragungsmatrix beschreibt lediglich das Verhalten des Systems auf ein Eingangssignal und ist somit hier nicht relevant. Außerdem wird hier lediglich das Produkt der Ausgangsmatrix $\bs{C}$ und der Fundamentalmatrix $\Phi$ betrachtet, da sich die Zustandsgröße $\dot{\varphi}$ aus dem Verlauf von $\varphi$ ergibt.
\begin{equation}
\bs{C}\cdot\bs{\Phi}(s) = \begin{pmatrix}
\frac{2,54s^2+60,9s-1,3}{2.54s^3+60,9s^2+478s+55,1} &
\frac{6,87s-2,02}{6,87s^3+165s^2+1300s+149} &
\frac{-0,53}{55s^3+1320s^2+10400s+1190} \\
\frac{1720s + 13900}{0,22s^3+5,16s^2+40,5s} &
\frac{147s+1720}{0,22s^3+5,16s^2+40,5s+4,66} &
\frac{0,22s^2+5,22s+40,6}{0,22s^3+5,16s^2+40,55s+4,66}
\end{pmatrix}
\end{equation}
Das Zeitverhalten des geschlossenen Regelkreises wird durch die Pole vorgegeben. Diese sind in der Fundamentalmatrix enthalten. Hierbei gilt, dass ein Pol, der weit von der imaginären Achse entfernt ist zu einem schnelleren Systemverhalten führt. Bei Systemen mit mehreren Polen gibt das Dominanzmaß $D_i$ den relativen Einfluss der Pole wieder. Hierfür werden die Teilübertragungsfunktionen bzw. Elemente der Fundamentalmatrix in Partialbrüche umgeformt.
\begin{equation}
G(s) = \sum^i \frac{A_i}{s-p_i}
\end{equation} 
\begin{equation}
D_i = \vert\frac{A_i}{p_i}\vert
\end{equation}

Die folgende Tabelle zeigt die Dominanzmaße der drei Pole
\begin{equation}
p_{1,2} = -11.9+6.55j \hspace{35pt} p_3 = -0.117
\end{equation}
in den Elementen der Fundamentalmatrix. Diese geben wieder, wie stark Zusammenhang zwischen Ausgangsvektor und Anfangswert des Zustandsvektors von den verschiedenen Polen beeinflusst wird.
\begin{table}
\centering
\begin{tabular}{c|c|c|c}

 & $\varphi_0$ & $\dot{\varphi}_0$ & $\dot{\psi}_0$ \\ 
\hline
$\varphi$ & $D_{1,2}=0.078 \hspace{15pt} D_3=0.155$ & $D_{1,2}=0.006 \hspace{15pt} D_3=0.019$ & $D_{1,2}=4\cdot10^{-6} \hspace{15pt} D_3=4.5\cdot10^{-6}$ \\
\hline
$\dot{\varphi}$ & $D_{1,2}=24.6 \hspace{15pt} D_3=2984$ & $D_{1,2}=1.86 \hspace{15pt} D_3=371$ & $D_{1,2}=0.001 \hspace{15pt} D_3=8.71$ 

\end{tabular}
\end{table}
Aus der Tabelle ergibt sich, dass der dominierende Pol des Systems $p_3=-0.117$ ist. Dessen kleiner Realteil führt zu einer langsamen Eigenbewegung. Allerdings fließen das komplex konjugierte Polpaar $p_{1,2}=-11.9\pm6.55j$ nach wie vor in den Verlauf von $\varphi$ ein. Dadurch lässt sich die relativ rasche Konvergenz von $\varphi$ gegen den Endwert erklären. 
Der Verlauf der Zustandsgröße $\dot{\psi}$ wird allerdings von dem Pol $p_3$ dominiert. Das Dominanzmaß der Poolpares $p_{1,2}$ ist um mehrere Potenzen geringer und beeinflusst somit den Verlauf von $\dot{\psi}$ kaum. Dies erklärt wiederum das langsame Konvergenzverhalten von $\dot{\psi}$.

Folglich muss entweder die Lage der Pole oder deren Dominanzmaß verändert werden um die Systemdynamik zu beeinflussen. Hierfür wird eine kaskadierte Regelung verwendet, das heißt der Ausgangsvektor des geschlossenen Regelkreises wird auf den Führungsvektor zurückgeführt.
\begin{figure}[!h]
\centering
\includegraphics[width=0.9\linewidth,trim={0cm 2cm 2cm 4.5cm}, clip]{4_Regelungstechnik/img/GRK_2}
\caption{Kaskadierter Regelkreis, Quelle: eigene Darstellung}
\end{figure}
Aus dem Blockschaltbild ist zu erkennen, dass für den Führungsvektor $\bs{w}$ der folgende Zusammenhang gilt.
\begin{equation}
\bs{w}=\bs{F}'\bs{y}
\end{equation}
Durch Einsetzen in die erste Gleichung der Zustandsraumdarstellung ergibt sich:
\begin{equation}
\dot{\bs{x}}=\bs{A}_g\bs{x}+(\bs{B}_g\otimes\bs{F}')\bs{y} = (\bs{A}_g+\bs{B}_g\otimes\bs{F}'\otimes\bs{C})\bs{x} = \bs{A}_c\bs{x}
\end{equation}\textcolor{red}{diadische Produkte beweisen, ist vlt nicht ganz richtig}
Die zweite Reglermatrix $\bs{F}'$ setzt sich aus zwei wählbaren und zwei Nullelementen zusammen. Der Grund dafür, dass zwei Elemente der Matrix verschwinden liegt darin, dass der Wert für $\varphi$ im Führungsvektor keinen Einfluss auf das System hat, da der Vorfilter diesen nicht gewichtet.
\begin{equation}
\bs{F}'=\begin{pmatrix}
0 & 0 \\ F_1 & F_2
\end{pmatrix}
\end{equation}
Die charakteristische Gleichung des kaskadierten Regelkreises hängt von der Reglermatrix $\bs{F}'$ ab. Folglich können auch die Pole des Systems durch die Wahl der Matrixelemente beeinflusst werden.
\begin{equation}
P^*(s) = |s\cdot\bs{I}-\bs{A}_c| = s^3+(24+0,29F_2)s^2+(200+0,41F_2-0,01F_1)s+(22,0-22F_2+10^{-19}) = 0
\end{equation}
\newpage
\textcolor{red}{3Dplots zeigen, dass F1 praktisch irrelevant ist, optimales Erbenis sollte man erreich indem man nur F2 betrachtet und den Betrag der Pole+Dominanzmaß mit dem Stabilitätsrand vergleicht, optimale Lösung ist die Kombination aus maximalen Betrag aller Pole die nach wie vor stabil sind, Frage ob das noch praktisch analysbar zu lösen ist oder man einfach das Optimum aus den Plots rausnimmt}

Die folgenden Darstellung zeigen den Verlauf der Zustandsgrößen bei $\bs{x}_0=\begin{pmatrix}
5^\circ & 0 & 0
\end{pmatrix}^T$ des kaskadierten Regelkreises. Für die zweite Reglermatrix wurden die Werte $F_1=0$ und $F_2=-17$ verwendet.
\begin{figure}[!h]
\centering
\includegraphics[width=0.45\linewidth]{4_Regelungstechnik/img/x0_phi_kaskadiert}
\includegraphics[width=0.45\linewidth]{4_Regelungstechnik/img/x0_psi__d_kaskadiert}
\caption{Verlauf von $\varphi$ und $\dot{\psi}$, Quelle: eigene Darstellung}
\end{figure}

\subsection{Einfluss des digitalen Reglers}
Bisher wurde der Regelkreis als zeitkontinuierliches System betrachtet. Allerdings wird der Regler selbst mit Hilfe eines Digitalrechners implementiert. Deshalb werden im in diesem Abschnitt die Einflüsse der diskreten Systeme auf den Regelkreis untersucht und anschließend Methoden erläutert um den diskreten Regelkreis zu analysieren.

Der Rechner erfasst den Verlauf des Zustandsvektors an äquidistanten Zeitpunkten $k\cdot T$. Dies entspricht einem $\delta$-Abtaster der die kontinuierliche Funktion des Zustandvektors in die Zahlenfolge $\bs{x}(k)$ überführt.
Auch der Verlauf des Eingangsignales $u(t)$ wird durch den Rechner beeinflusst. Der Stellwert des Regelkreises wird an den Abtastzeitpunkten berechnet und ist somit eine Zahlenfolge. Um diese in eine kontinuierliche Funktion zu überführen wird ein Halteglied nullter Ordnung verwendet. Dadurch entsteht eine Treppenfunktion, deren Wert an den Abtastzeitpunkten aktualisiert wird. Das Verhalten des Haltegliedes wird von der folgenden Übertragungsfunktion beschrieben.
\begin{equation}
H_0(s)=\frac{1-e^{T\cdot s}}{s}
\end{equation}
Die Analyse von kontinuierlichen Systemen wird durch die Laplace-Transformation stark erleichtert. Für diskrete Systeme stellt die z-Transformation das diskrete Analogon dar. Allerdings muss der vollständige Regelkreis als diskretes System dargestellt werden um die z-Transformation anwenden zu können. Das heißt, dass die Bewegung der Würfelseite, welche ein kontinuerliches System darstellt, mit Hilfe von Differenzengleichungen beschrieben werden muss. Dadurch besteht eine diskrete Beschreibung des gesamten Reglekreises, wodurch die z-Transformation zur Analyse genutzt werden kann.

Die Modellierung des kontinuierlichen Systems erfolgt mit Hilfe der Zustandsraumdarstellung. Diese kann auch für diskrete Systeme formuliert werden, welche sich aus Differenzengleichungen erster Gleichung zusammensetzt. Das heißt bei den Eingangs-, Zustands- und Ausgangsvektor handelt es sich nicht mehr um kontinuierliche Zeitfunktionen sondern um diskrete Zahlenfolgen.


Die Matrizen $\bs{A}_d$, $\bs{B}_d$, $\bs{C}_d$ und $\bs{D}_d$ stellen die diskrete System-, Eingangs-, Ausgangs- und Durchgangsmatrix dar. Somit kann das kontinuierliche System in ein diskretes überführt werden, wenn der Zusammenhang der Matrizen der kontinuierlichen und diskreten Zustandsraumdarstellung hergestellt wurde. Hierfür soll zunächst die Lösung des kontinuierlichen Zustandvektors $\bs{x}(t)$ betrachtet werden.
\begin{equation}
\bs{x}(t) = e^{\bs{A}t}\bs{x}(t_0)+\int^t_0 e^{\bs{A}(t-\tau)}\bs{B}\bs{u}(\tau)d\tau
\end{equation}
Der Verlauf zwischen zwei Abtastzeitpunkten $(k+1)T$ und $kT$ wird berechnet indem $t_0=kT$ und $t=(k+1)T$ gilt.
\begin{equation}
\begin{split}
\bs{x}(t) &= e^{\bs{A}(k+1)T}\bs{x}(kT)+\int^{(k+1)T}_{kT} e^{\bs{A}([k+1]T-\tau)}\bs{B}\bs{u}(\tau)d\tau \\
 &=  e^{\bs{A}(k+1)T}\bs{x}(kT)+e^{\bs{A}T}\int^{T}_{0} e^{\bs{A}(kT-\tau)}\bs{B}\bs{u}(\tau)d\tau
\end{split}
\end{equation}
Für die Lösung des Integrals muss der Verlauf von $\bs{u}$ bekannt sein. Das Halteglied nullter Ordnung führt die diskrete Zahlenfolge der Stellgröße in eine Treppenfunktion über. Das heißt $\bs{u}$ ist im Verlauf einer Abtastperiode konstant.
\begin{equation}
\bs{u}(kT+t)=\bs{u}(kT) \hspace{35pt} | \hspace{15pt} 0 \leq t < T
\end{equation}
Somit folgt für die Lösung der Gleichung:
\begin{equation}
x([k+1]T)=e^{\bs{A}T}\bs{x}(kT)+e^{\bs{A}T}(\bs{I}-e^{-\bs{A}T})\bs{A}^{-1}\bs{B}\bs{u}(kT)
\end{equation}
Diese Lösung stellt den Zusammenhang zwischen den kontinuierlichen Differentialgleichungen und der diskreten Differenzengleichung dar. Vergleicht man die obige Lösung mit der der kontinuierlichen Form lassen sich die folgenden Zusammenhänge ablesen.
\begin{equation}
\bs{A}_d=e^{\bs{A}T} \hspace{35pt}\bs{B}_d=(e^{\bs{A}T}-\bs{I})\bs{A}^{-1}\bs{B}
\end{equation}
Mit der Definition
\begin{equation}
\bs{S}=T\sum^{\infty}_{v=0}\bs{A}^v \frac{T^v}{(v+1)!}
\end{equation}
kann die Definition vereinfacht und die Berechnung der inversen Matrix vermieden werden.
\begin{equation}
\bs{A}_d = \bs{I}+\bs{S}\bs{A} \hspace{35pt} \bs{B}_d=\bs{S}\bs{B}
\end{equation}
Somit beschreibt die Matrix $\bs{S}$ einerseits den Einfluss des Halteglieds auf den Regelkreis, andererseits ermöglicht sie die Überführung in eine diskrete Darstellung. Diese besteht aus einem System von Differenzengleichungen erster Ordnung. Die Lösung des Zustandsvektors ist somit eine Zahlenfolge.
\begin{equation}
\begin{split}
\bs{x}(1) &= \bs{A}_d\bs{x}(0)+\bs{B}_d\bs{u}(0) \\
\vdots & \\
\bs{x}(k)&=\bs{A}^k_d\bs{x}(0)+\sum^{k-1}_{j=0}\bs{A}^{k-j-1}_d \bs{B}_d\bs{u}(j)
\end{split}
\end{equation}
Diese setzt sich ebenfalls aus einer homogenen und partikulären Lösung zusammen. Der Vergleich mit der kontinuierlichen Lösung liefert die folgenden Definitionen für die diskrete Fundamentalmatrix $\bs{\Phi}$.
\begin{equation}
\bs{\Phi}(k) = \bs{A}^k_d
\end{equation}
\begin{equation}
\bs{x}(k) = \bs{\Phi}(k)\bs{x}(0)+\sum^{k-1}_{j=0} \bs{\Psi}(k-j-1)\bs{B}_d\bs{u}(j)
\end{equation}
\begin{equation}
\bs{y}(k) = \bs{C}\bs{\Phi}(k)\bs{x}(0)+\bs{C}_d\sum^{k-1}_{j=0}[ \bs{\Phi}(k-j-1)\bs{B}_d\bs{u}(j)] +\bs{D}_d\bs{u}(k)
\end{equation}
Die Berechnung der Fundamental- und Übertragungsmatrix kann ebenfalls im Bildbereich berechnet werden. Hierfür wird nun die z-Transformation angewandt.
\begin{equation}
\begin{split}
z\bs{X}(z)-z\bs{x}(0) &= \bs{A}_d\bs{X}(z)+\bs{B}_d\bs{U}(z) \\
\bs{X}(z)(z\cdot\bs{I}-\bs{A}_d) &= z\cdot\bs{x}(0)+\bs{B}_d\bs{U}(z) \\
\bs{X}(z) &= (z\cdot\bs{I}-\bs{A}_d)^{-1}z\cdot \bs{x}(0) + (z\cdot\bs{I}-\bs{A}_d)^{-1}\bs{B}_d\bs{U}(z)
\end{split}
\end{equation}
Der Vergleich mit den Laplace-Transformierten Lösungen der kontinuerlichen Funktionen liefert die folgenden Definitionen.
\begin{equation}
\bs{\Phi}(z)=(z\cdot\bs{I}-\bs{A}_d)^{-1}\cdot z
\end{equation}
\begin{equation}
\bs{G}(z) = \bs{C}_d(z\cdot\bs{I}-\bs{A}_d)^{-1}\bs{B}_d+\bs{D}_d
\end{equation}
Auch die charakteristische Gleichung und somit die Pole des Systems können mit Hilfe der z-Transformierten der Zustandsraumdarstellung bestimmt werden.
\begin{equation}
\vert z \cdot \bs{I} - \bs{A}_d \vert = 0
\end{equation}
Somit stehen nun äquivalente Methoden zur Untersuchung von diskreten Systemen bereit. Weshalb im nächsten Schritt der Zusammenhang zwischen den Polen $z_i$ des diskreten Systems und dessen Stabilitäts- bzw. Zeitverhalten hergestellt werden soll.

Die Herleitung der z-Transformation basiert auf der folgenden Substitution.
\begin{equation}
z=e^{T\cdot s} \hspace{35pt}\vert \hspace{15pt} s=\sigma+\omega j
\end{equation}
Wobei die Position von $z$ in der imaginären Zahlenebene mit Hilfe von Polarkoordinaten beschrieben wird. $\vert z \vert$ beschreibt dabei den Abstand des Punktes zum Ursprung und $\psi$ beschreibt den Winkel zwischen dem Punkt und der reellen Achse entgegen des Uhrzeigersinnes. Die Koordinaten werden über den folgenden Zusammenhang berechnet.
\begin{equation}
\vert z\vert = e^{T\cdot \sigma} \hspace{15pt} \phi = \omega \cdot T
\end{equation}
Die Stabilität eines kontinuierlichen Systems ist gegeben, wenn die Realteile $\sigma_i$ seiner Pole $s_i$ negativen sind. Daraus folgt, dass 
\begin{equation}
\vert z_i \vert = e^{T\cdot \sigma_i} \overset{!}< 1 \hspace{35pt} \vert \hspace{15pt} \sigma_i \overset{!} < 0
\end{equation}
gelten muss. 
Das Zeitverhalten eines kontinuierlichen Systems wird von dem Abstand seiner Pole zu der imaginären Achse definiert. Hierbei gilt je kleiner der Realteil eines stabilen Pols ist, desto schneller konvergiert das System gegen seinen Endwert. Folglich führen diskrete Pole mit kleinen Beträgen zu einem schnellerem System.

Die zweite Koordinate der diskreten Pole wird durch den Imaginärteil der Variable $s$ definiert. Bei einem komplex konjugierten Polpaar definieren diese die Eigenfrequenz des Systems. Allerdings lässt sich diese nicht eindeutig aus der Abbildung der diskreten Polen $z_i$ in der Zahlenebene rekonstruieren, da nach
\begin{equation}
\psi = \omega \cdot T
\end{equation}
unendliche viele Punkte in der s-Ebene der Position des diskreten Pols entsprechen.