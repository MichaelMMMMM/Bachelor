%ZRD

u__d = sym('u__d', [6 1], 'real');
u    = sym('u', [6 1], 'real');
phi  = sym('phi', [3 1], 'real');
I_G  = sym('I_G_', [3 3], 'real');
I_R1 = sym('I_R1_', [3 3], 'real');
I_R2 = sym('I_R2_', [3 3], 'real');
I_R3 = sym('I_R3_', [3 3], 'real');
I_R1 = [I_R1(1,1), 0, 0; 0, I_R1(2,2), 0; 0, 0, I_R1(3,3)];
I_R2 = [I_R2(1,1), 0, 0; 0, I_R2(2,2), 0; 0, 0, I_R2(3,3)];
I_R3 = [I_R3(1,1), 0, 0; 0, I_R3(2,2), 0; 0, 0, I_R3(3,3)];


F    = sym('F', [6 1]);

BG_1 = u__d(1)*I_G(1,1)  + u__d(2)*I_G(2,1) + u__d(3)*I_G(3,1) + u__d(4)*I_R1(1,1) + ...
       u__d(5)*I_R2(2,1) + u__d(6)*I_R3(3,1) == F(1);
BG_2 = u__d(1)*I_G(1,2)  + u__d(2)*I_G(2,2) + u__d(3)*I_G(3,2) + u__d(4)*I_R1(1,2) + ...
       u__d(5)*I_R2(2,2) + u__d(6)*I_R3(3,2) == F(2);
BG_3 = u__d(1)*I_G(1,3)  + u__d(2)*I_G(2,3) + u__d(3)*I_G(3,3) + u__d(4)*I_R1(1,3) + ...
       u__d(5)*I_R2(2,3) + u__d(6)*I_R3(3,3) == F(3);
BG_4 = (u__d(1) + u__d(4))*I_R1(1,1) + u__d(2)*I_R1(2,1) + u__d(3)*I_R1(3,1) == F(4);
BG_5 = u__d(1)*I_R2(1,2) + (u__d(2) + u__d(5))*I_R2(2,2) + u__d(3)*I_R2(3,2) == F(5);
BG_6 = u__d(1)*I_R3(1,3) + u__d(2)*I_R3(2,3) + (u__d(3) + u__d(6))*I_R3(3,3) == F(6);

solve([BG_1; BG_2; BG_3; BG_4; BG_5; BG_6], u__d)