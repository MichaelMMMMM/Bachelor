/**
 * @file	CF1Calib.cpp
 * @author	Michael Meindl
 * @date	18.04.2017
 * @brief	Method definitions for CF1Calib.
 */
#include "CF1Calib.h"

CF1Calib::CF1Calib() : mST1_A_Poly{ {"config/st1_f1_x_poly.csv"}, {"config/st1_f1_y_poly.csv"}, {"config/st1_f1_z_poly.csv"} },
					   mST2_A_Poly{ {"config/st2_f1_x_poly.csv"}, {"config/st2_f1_y_poly.csv"}, {"config/st2_f1_z_poly.csv"} },
					   mST3_A_Poly{ {"config/st3_f1_x_poly.csv"}, {"config/st3_f1_y_poly.csv"}, {"config/st3_f1_z_poly.csv"} },
					   mST4_A_Poly{ {"config/st4_f1_x_poly.csv"}, {"config/st4_f1_y_poly.csv"}, {"config/st4_f1_z_poly.csv"} }
{

}
const CF1Calib::OutputType& CF1Calib::calcOutput(const CF1Calib::InputType& input)
{
	mOutput.mST1_A[0] = mST1_A_Poly[0].calcOutput(static_cast<Float32>(input.mSensor1Data.mA_y));
	mOutput.mST1_A[1] = mST1_A_Poly[1].calcOutput(static_cast<Float32>(input.mSensor1Data.mA_x));
	mOutput.mST1_A[2] = mST1_A_Poly[2].calcOutput(static_cast<Float32>(input.mSensor3Data.mA_x));

	mOutput.mST2_A[0] = mST2_A_Poly[0].calcOutput(static_cast<Float32>(input.mSensor2Data.mA_y));
	mOutput.mST2_A[1] = mST2_A_Poly[1].calcOutput(static_cast<Float32>(input.mSensor2Data.mA_x));
	mOutput.mST2_A[2] = mST2_A_Poly[2].calcOutput(static_cast<Float32>(input.mSensor4Data.mA_x));

	mOutput.mST3_A[0] = mST3_A_Poly[0].calcOutput(static_cast<Float32>(input.mSensor5Data.mA_x));
	mOutput.mST3_A[1] = mST3_A_Poly[1].calcOutput(static_cast<Float32>(input.mSensor3Data.mA_y));
	mOutput.mST3_A[2] = mST3_A_Poly[2].calcOutput(static_cast<Float32>(input.mSensor5Data.mA_y));

	mOutput.mST4_A[0] = mST4_A_Poly[0].calcOutput(static_cast<Float32>(input.mSensor6Data.mA_x));
	mOutput.mST4_A[1] = mST4_A_Poly[1].calcOutput(static_cast<Float32>(input.mSensor4Data.mA_y));
	mOutput.mST4_A[2] = mST4_A_Poly[2].calcOutput(static_cast<Float32>(input.mSensor6Data.mA_y));
}
