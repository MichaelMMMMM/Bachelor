function CWebSocket(msgHandler)
{
	var mServer 		= "192.168.9.1";
	var mPort   		= "18000";
	var mWebsocketUri 	= "ws://" + mServer + ":" + mPort;
	var mWebSocket		= null;
	var mMsgHandler		= msgHandler;
}
CWebSocket.prototype.init  = function()
{
	try
	{
		if( typeof MozWebSocket == 'function')
		{
			WebSocket = MozWebSocket;
		}
		if( this.mWebSocket && (this.mWebSocket.readyState == 1) )
		{
			this.mWebSocket.close();
		}
		this.mWebSocket = new WebSocket(this.mWebSocketUri);
		alert("test");
		this.mWebSocket.binaryType = "arraybuffer";
		this.mWebSocket.onopen  = function(evt) {};
		this.mWebSocket.onclose = function(evt) {};
		this.mWebSocket.onmessage = function(evt)
		{
			if(typeof evt.data === 'string')
			{
				this.mMsgHandler.handleMessage(evt.data);
			}
		};
	}
	catch(exception)
	{
		alert("(CWebSocket.init()) Exception: ");
		
	};
};
CWebSocket.prototype.close = function()
{
	if(this.mWebSocket)
	{
		this.mWebSocket.close();
	}
};