/**
 * @file	CLQR.cpp
 * @author	Michael Meindl
 * @date	16.02.2017
 * @brief	Method definitions for CLQR.
 */
#include "CLQR.h"

const CTorqueData& CLQR::calcOutput(const CStateData& input)
{
	Float32& mX[] = { input.mGData.mG_k1, input.mGData.mG_k2, input.mGData.mG_k3,
					  input.mUKData.mUK_k1, input.mUKData.mUK_k2, input.mUKData.mUK_k3,
					  input.mURData.mUR_k1, input.mURData.mUR_k2, input.mURData.mUR_k3 };

	mOutput.mTorque1 = 0.0F;
	mOutput.mTorque2 = 0.0F;
	mOutput.mTorque3 = 0.0F;

	for(int i = 0; i < 9; i++)
	{
		mOutput.mTorque1 += mX[i]*sF_TM1[i];
		mOutput.mTorque2 += mX[i]*sF_TM2[i];
		mOutput.mTorque3 += mX[i]*sF_TM3[i];
	}

	return mOutput;
}
const CTorqueData& CLQR::getValue()
{
	return mOutput;
}
